# SuperBLT Changelog

This lists the changes between different versions of the SuperBLT basemod,
which controls things like the mod update menu. Note this does not contain the
changes for the DLL.

## v1.3.4

- Fix a potential issue in the GetModOwnerOfFile function - Dot Net
- Optimize the XAudio update loop - Dom
- Improve and fix crashes in BLTNotificationsManager - Hoppip
- Add Korean localization - BrainInAVet

## v1.3.3

- Fix undefined behavior with nested DelayedCalls - Hoppip
- Improve the localization macro system to handle macro replacements properly - Dorentuz, Hoppip
- Make inprovements to the Hooks system and add new functionality - Hoppip
- Fix potential crash with files not generated by BLT in the logs directory - Hoppip
- Fix slider menu elements always being localized - Hoppip

## v1.3.1

- Add the XMl tweaker control keys system - ZNix
- Add the Wren AssetUtil API class for asset overriding with better cross-mod compatibility - ZNix
- Fix delayed calls losing their ids on update - Hoppip
- Allow mods to alter their Wren 'base' directory - ZNix
- Implement better Wren error handling, showing a popup rather than crashing if a mod failed to load - ZNix

## v1.3.0

(Note: this version never ended up shipping and was incorporated into v1.3.1.

- Fix BLT:GetOS() returning "linux" on Windows under specific conditions - ZNix
- Make the parsing code for `supermod.xml` more tolerant of malformed input, so future tags won't crash older versions - Campbell Suter
- Add BLT:Log function, supporting logging levels - Hoppip
- Update the Wren system to use the new features added in the DLL - ZNix
- Get rid of the wren TweakRegistry - so far as I can tell it was never used in any mods (this does not affect normal XML tweaks) - ZNix
- Disable Wren-related functionality for disabled mods - ZNix
- Return created menu items from MenuHelper - Hoppip
- Update the Brazilian Portuguese translation - Gabriel F
- Load XML tweaks from `mod_overrides` mods, to store animations there - Cpone
- Fix calls with invalid values crashing `XAudio.Source:set_volume` - Hoppip
- Update the Chinese translation - SummonHIM
- Add a Japanese translation - Takuya Namba
- Add autoupdate support for renamed mod folders - TdlQ
- Fix mods with dependencies on other mods using the paydaymods.com update system being disabled due to missing dependencies - ZNix

## v1.2.0

Note that I forgot to update the version number for this one, so it looked like you were on v1.1.6.0 from the mods menu.

- Fix Hooks:PreHook and Hooks:PostHook discarding multiple returns - Hoppip and ZNix
- Fix JSON files that decode to `null` or `""` crashing the game - DorentuZ
- Make the JSON parser accept some JSON5-like extensions, such as trailing commas and comments - DorentuZ
- wren: Fix `XML.is_element` crashing if the node's name is two characters or less - ZNix
- French translations update - Brskt
- Added a Brazilian Portuguese translation - Gabriel F
- Fix the language selector switching back to English - Luffyyy
- Removed support for paydaymods.com updates, since the site is gone - Luffyyy
- Fix removing keybinds not being saved - steam-test1
- Fix crash-causing bugs in Hooks:PreHook and Hooks:PostHook - DorentuZ
- Add BLTModManager:GetModByName - Luffy
- Add mod.txt version number checking to the autoupdater, in addition to hash-based checking - Luffyyy
- Fix the debug information from supermod.xml assets showing the wrong path - Hoppip
- Disable converting old (pre-LuaJIT update) BLT savefiles - steam-test1
- Added a Dutch translation - DorentuZ

## v1.1.6.0

- Add Polish translation - Alister The Hedgehog
- Fix the BLT menus not appearing after update 198 - Luffy - See !30
- Add macro support for custom localisations - DorentuZ - See !23
- Fixed not being able to unbind keybinds - Offyerrocker - See !28
- Removed misleading `blt_version` check, with the intention of later adding a minimum version field - Luffy - See !27
- Add an initial BLT asset manager, allowing the use of recoding Windows assets for Linux - ZNix
- Fix entry scripts running when their mod is disabled - ZNix
- Fix dependency checks for long chains - TdlQ
- Fix the XML tweaker appending nodes in reverse order - Snh20 - See !19
- Add error details to the XML tweaker - Snh20 - See !20 and !22
- Don't load native modules for a disabled mod - ZNix

## v1.1.5.1

- Improve formatting of the supermod.xml unknown tag name error
- Log errors encountered during asset loading
- Add automatic XML asset conversion
- Don't load assets for a disabled mod
- Menu items now also can have non-localized descriptions (thanks, Ludor)
- Don't apply an tweak multiple times under some conditions - Fixes #4

## v1.1.5.0

- Add graphical indications in the mod manager and mod info pages about the progress of mod update checking
- Fix mod updates with invalid URLs from getting stuck on the update check
- Block updates for mods under version control, to prevent developers' work from being deleted by accidentally updating
- Add hide mod icons and hide libraries options to the mod manager
- Fix wildcard scripts crashing when run
- Add BLTCustomComponent (thanks, Luffy - see !11)
- Add MenuHelper:AddComponent
- Correct grammar in the Swedish translation (thanks, BreakinBenny)
- Add Wren-based native module loading support
- Add entry scripts
- Add native module loading support
- Add exists function for custom localizations (thanks, Sebastian)

## v1.1.4.2

- Add automatic update support for the WSOCK32.dll hook option on Windows

## v1.1.4.1

- Fix dependency downloading
- Correct the XAudio world scale so stuff sounds the correct distance away

## v1.1.4.0

- Fix persist scripts, fixing #1 (see v1.1.1.0)
- When a player is not available, use the camera for correct audio positioning
- Add option to XAudioSource to allow music playback while the game is paused
- Add Swedish translation (thanks, BreakinBenny)

## v1.1.3.1

- Fix mod options not appearing in VR

## v1.1.3.0

- When available, use asynchronous hashing to vastly reduce the freeze when update data is received
- Improve loading times for the mod menu icons
- Add warning when assets have failed to load
- Add debugging mode to asset loader

## v1.1.2.0

- Don't run custom assets through the XML tweak system
- Add `AssetLoader:FreeAssetGroup` method, allowing mods to unload assets they have loaded

## v1.1.1.0

- Fix `mod:GetSuperMod()` always returning `nil`
- Fix custom update metadata being set to the wrong tag
- Sort mod options alphabetically
- Prevent persist scripts from running if their parent mod is disabled (Caused bug #1)
- Allow mouse wheel movements to be used for mod keybinds (thanks, TdlQ and BangL)
- Improve `Utils:GetCrosshairRay()` to be more reliable and fix several crash bugs (thanks, TdlQ and BangL)
- Fixed file locking on Windows causing mods to be deleted instead of updated (thanks, TdlQ and BangL)
- Fixed crashing when toggling fullscreen
- Add a getter to the BLTMod class to get the asset loader instance
- Add the global ModInstance variable, similar to ModPath
- Add substitution functionality to `supermod.xml` properties
- Clean up the `base_path` functionality of the asset loader

## v1.1.0.0

- Add XML-based Lua hook support, as an alternative to the `hooks` tag in `mod.txt`
- Improve error reporting in `supermod.xml`
- Add the SuperBLT asset loader

## v1.0.2.1

- Update details in `mod.txt` list it as SuperBLT rather than vanilla BLT

## v1.0.2.0

- Create downloads, logs and saves directories on startup if they are missing
- Move temporary directory for mod downloads to the downloads folder
- Fix `XAudioSource:is_relative` being named `is_looping`

## v1.0.1.0

- Add `relative` and `looping` properties to `XAudioSource`

## v1.0.0

- Add XAudio API
- Add custom updates system
- Add the XML Tweaker, and it's `supermod.xml` file

